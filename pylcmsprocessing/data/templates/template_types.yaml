---
optimization:
  description: Parameters of optimization method for peakpicking, grouping and annotation.
  need_optimization:
    description: Boolean. If set to True parameters optimization will be performed. If set to false not optimization will be done.
    value: false
    type: bool
  files_used:
    priority: LOW
    description: Integer. The number of QC files used for optimization. If no peakpicking is performed
    value: 3
    type: int
  number_of_points:
    priority: LOW
    description: Integer. The number of points sampled at each surface estimation steps.
    value: 30
    range:
      - 15
      - 59
    type: int
  num_iterations:
    priority: LOW
    description: Integer. The maximum number of surface estimated. If no improvement happens at any iteration the optimization stops anyway.
    value: 5
    range:
      - 2
      - 20
    type: int
  noise_threshold:
    priority: LOW
    description: Float. A noise threshold used to filter spectra before optimization. This can be useful for noisy files, notably TOF.
    value: 500
    type: float
peakpicking:
  description: This step includes all the necessary sub steps to pass from an individual .mzML file to a processed peaktable. The data are processed using one of the three algorithms provided by the algorithm fields..
  algorithm:
    description: Character. The algorithm used for peakpikcing. Authorized value are ADAP, OPENMS and CENTWAVE.
    value: CENTWAVE
    type: str
  noise_level_ms1:
    priority: ESSENTIAL
    description: Integer. An absolute noise threshold to be used on MS1. Any points in a RAW file below this file will be discarded. This should not be too high, as low intensity part can still occurs at the border of a peak,
    value: 0
    type: float
  noise_level_ms2:
    priority: ESSENTIAL
    description: Integer. An absolute noise threshold to be used on MS2. Any points in a RAW file below this file will be discarded. This should not be too high, as low intensity part can still occurs at the border of a peak,
    value: 0
    type: float
  peaktable_filter:
    priority: LOW
    description: String. A string describing the postprocessing to apply to the peaktable. See the wiki for examples. The default is to only take the 30000 most intense peaks.
    value: absolute_intensity top 30000
    type: str
  traces_construction:
    description: Parameters used in the detection of consecutive mass points with similar masses in different acquisitions.
    ppm:
      priority: ESSENTIAL
      description: Float. (All peakpicker) The tolerance in part per million between different scans to be considered. Mass tolerance for a point of mass m/z is given by max(ppm x m/z x 1e-6,dmz).
      value: 15
      range:
        - 0.5
        - 100
      type: float
    dmz:
      priority: ESSENTIAL
      description: Float. (All peakpicker) The minimum tolerance in Da to be considered. Mass tolerance for a point of mass m/z is given by max(ppm x m/z x 1e-6,dmz).
      value: 0.007
      range:
        - 0.0001
        - 0.2
      type: float
    min_scan:
      priority: ESSENTIAL
      description: Integer. (All peakpicker) The minimum number of points detected in consecutive scans for a trace to be valid. Any trace containing less than min_scan point is discarded.
      value: 15
      range:
        - 1
        - 100
      type: int
    num_outliers:
      priority: LOW
      description: Integer. (OPENMS only) the maximum number of outliers allowed in a mass traces.
      value: 5
      range:
        - 1
        - 100
      type: int
  peaks_deconvolution:
    description: This step Deconvolute traces to extract peaks corresponding to individuals ions.
    SN:
      priority: HIGH
      description: Float. (All peakpicker) The signal-over-noise threshold for a peak to be discarded.
      value: 3
      range:
        - 0
        - 100
      type: float
    noise_level:
      priority: HIGH
      description: Float. (All peakpicker) The min feature height for a deconvoluted peak to be kept.
      value: 0
      type: float
    peak_width:
      priority: ESSENTIAL
      description: Floats. (All peakpicker) The minimum and maximum width of a peak in minutes. This parameter is highly dependent of you chromatography setup.
      value:
        - 0.02
        - 0.1
      range:
        - 0.003
        - 2.0
      type: float
    peak_width_fac:
      priority: HIGH
      description: Float. (OPENMS only) FLoat between 0 and 1 a factor fivinf the main peakwidth for feature finder metabo.
      value: 0.2
      range:
        - 0.0
        - 1.0
      type: float
    rt_wavelet:
      priority: ESSENTIAL
      description: Floats. (ADAP only) The minimum and width width the wavelets used for peak detection.
      value:
        - 0.0005
        - 0.005
      range:
        - 0.0001
        - 10.0
      type: float
    coefficient_area_threshold:
      priority: LOW
      description: Float. (OPENMS only) Coefficient over area filtering.
      value: 50
      range:
        - 0
        - 300
      type: float
    ms2_mz_tol:
      priority: LOW
      description: Float. (All peakpickers) The tolerance in mz for MS-MS pairing.
      value: 0.1
      range:
        - 0.0001
        - 5
      type: float
    ms2_rt_tol:
      priority: LOW
      description: Float. (All peakpickers) The tolerance in rt for MS-MS pairing in minutes.
      value: 0.1
      range:
        - 0.0001
        - 5
      type: float
grouping:
  description: Alignment of peaktables of different samples and building of a common data matrix. This step is done using a personnalized package for retention time correction.
  ppm:
    priority: HIGH
    description: Float. The m/z tolerance in part per million between peaks of different samples to aligned is given by max(ppm x m/z x 1e-6,dmz).
    value: 15
    range:
      - 0.5
      - 100
    type: float
  drt:
    priority: HIGH
    description: Float. The bandwitdth of the gaussian to be considered. This should be half of the rt deviation expected approximately.
    value: 0.03
    range:
      - 0.001
      - 2.0
    type: float
  extracted_quantity:
    priority: HIGH
    description: String. The extracted type of information. Can be 'intensity' or 'height'
    value: intensity
    set:
      - intensity
      - height
    type: str
  dmz:
    priority: LOW
    description: Float. The minimum m/z tolerance in Da to be considered. Mass tolerance between peaks of different samples to aligned is given by max(ppm x m/z x 1e-6,dmz).
    value: 0.01
    range:
      - 0.0007
      - 1.0
    type: float
  alpha:
    priority: LOW
    description: Float. A value indicating L1 regularization term of RT correction
    value: 0.1
    range:
      - 0.0001
      - 0.8
    type: float
  num_references:
    priority: LOW
    description: Integer. The number of references peaks chosen to correct retention time correction.
    value: 150
    range:
      - 50
      - 500
    type: int
filtering:
  description: Filters used to remove non relirable feature using blanks and qcs.
  frac_qc:
    priority: HIGH
    description: Fraction of detection in qcs for a signal to be kept. If no qc sample is porvided this is a fraction of all samples.
    value: 0.5
    range:
      - 0
      - 1
    type: float
  fold_blank:
    priority: HIGH
    description: The ratio of intensity of samples on blank. Feature with a fold ratio lower than this value are discarded.
    value: 3
    range:
      - 1
      - 100
    type: float
ion_annotation:
    description: Grouping of ions originating form the same metabolite and annotations of adducts and fragments. The detection is done using a modified MScliques the annotation of ion is done using the InterpretMSSpectrum package.
#    polarity:
#      priority: ESSENTIAL
#      description: String. The polarity of the acquired mass spectrometry data, can be 'positive' or 'negative'
#      value: positive
#      set:
#        - positive
#        - negative
#      type: str
    ppm:
      priority: HIGH
      description: Float. The m/z tolerance in part per million to match ions coming for the same metabolites. It is given by max(ppm x m/z x 1e-6,dmz).
      value: 15
      range:
        - 3
        - 50
      type: float
    dmz:
      priority: HIGH
      description: Float. The minimum m/z tolerance in Da to match ions coming for the same metabolites. It is given by max(ppm x m/z x 1e-6,dmz).
      value: 0.01
      range:
        - 0.0005
        - 2.0
      type: float
    max_isotopes:
      priority: LOW
      description: Integer. The maximum number of isotopic pattern extracted.
      value: 4
      range:
        - 0
        - 15
      type: int
    max_charge:
      priority: LOW
      description: Integer. The maximum number of charges allowed.
      value: 3
      range:
        - 1
        - 5
      type: int
    adducts_negative:
      priority: HIGH
      description: Strings. A list of adducts to be considered as chemical formula. See the provided examples for syntax.
      value: NONE
      type: str
    main_adducts_negative:
      priority: HIGH
      description: Strings. A list of adducts to be considered as possibly most intense peaks. See the provided examples for syntax.
      value: NONE
      type: str
    adducts_positive:
      priority: HIGH
      description: Strings. A list of adducts to be considered as chemical formula. See the provided examples for syntax.
      value: NONE
      type: str
    main_adducts_positive:
      priority: HIGH
      description: Strings. A list of adducts to be considered as possibly most intense peaks. See the provided examples for syntax.
      value: NONE
      type: str
    min_filter:
      priority: HIGH
      description: Integer. The minimum number of detection in the file to be detected for the data to be kept.
      value: 2
      type: int
    num_files:
      priority: HIGH
      description: The number of files used to generate EICs profile for ion annotations. This number should be at most 100
      value: 50
      range:
        - 1
        - 500
      type: int
output_format:
  description: Output format for of SLAW
  ms1:
      priority: LOW
      description: String. What MS1 informations should be output. non-filled datamatrix. Authorized values are 'gap-filled data matrix' and 'data matrix' corresponds to the filled and non filled sample x feature table. 'mztab' will output a valid mzTab without annotation.
      value: NONE
      multiset:
        - gap-filled data matrix
        - data matrix
        - mztab
      type: str
  ms2:
      priority: LOW
      description: String. What MS2 information should be output, 'fused mgf with isotopes' refer to MGF file containing MS-MS under the MS2 tag and isotopic patterns under the MS1 tag. 'fused mgf' output a single mgf with one MS-MS spectrum by feature.
      value: NONE
      multiset:
        - fused mgf with isotopes
        - fused mgf
      type: str
